@import"https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,500;9..144,700&family=Manrope:wght@400;500;700;800&display=swap";:root{--bg-a: #fff5ee;--bg-b: #ffe7d7;--bg-c: #ffd6df;--ink: #3f2a2f;--ink-soft: #70535c;--line: rgba(90, 46, 58, .12);--card: rgba(255, 252, 247, .72);--card-border: rgba(255, 255, 255, .82);--accent-a: #ff5b74;--accent-b: #ff7d56;--mint: #9ad9c8}*{box-sizing:border-box}body{margin:0;min-height:100vh;font-family:Manrope,system-ui,sans-serif;color:var(--ink);background:radial-gradient(circle at 8% 10%,#ffe8cc 0%,transparent 32%),radial-gradient(circle at 92% 10%,#ffd8e6 0%,transparent 30%),linear-gradient(160deg,var(--bg-a),var(--bg-b) 50%,var(--bg-c))}.app-shell{min-height:100vh;max-width:860px;margin:0 auto;padding:14px 14px 24px;position:relative;overflow:hidden}.glass{background:var(--card);border:1px solid var(--card-border);-webkit-backdrop-filter:blur(16px);backdrop-filter:blur(16px);box-shadow:0 18px 42px #76344724}.topbar{position:sticky;top:8px;z-index:8;padding:2px 0;display:flex;align-items:center;justify-content:flex-end}.eyebrow{margin:0;font-size:.68rem;letter-spacing:.2em;text-transform:uppercase;color:#8f6a67}.music-toggle{border:1px solid rgba(255,255,255,.82);border-radius:999px;padding:7px 12px;font-size:.76rem;font-weight:800;color:#5f3a42;background:#ffffffd1;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 8px 20px #7634471f;display:inline-flex;gap:8px;align-items:center}.music-label{letter-spacing:.01em}.dot{width:8px;height:8px;border-radius:999px}.dot.on{background:#22c55e}.dot.off{background:#ef4444}.transition-veil{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;pointer-events:none;z-index:6;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);background:radial-gradient(circle at 50% 30%,#fffaf759,#ffefe499);transition:opacity .36s ease}.transition-veil.show{opacity:1}.transition-veil.envelope{background:radial-gradient(circle at 48% 35%,#fff9f28c,#ffdfe7bd);transition-duration:.52s}.content-wrap{min-height:calc(100vh - 84px);margin-top:8px;display:grid;grid-template-rows:auto 1fr}.story-progress-slot{height:34px;display:grid;align-items:center}.screen-stage{min-height:0;display:grid;align-items:start;padding-top:2px}@media (min-width: 640px){.screen-stage{align-items:center;padding-top:0}}.story-progress{width:min(420px,92%);margin:0 auto 4px;padding:8px 10px;border-radius:999px;display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:8px;background:#ffffff9e;border:1px solid rgba(255,255,255,.82);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:opacity .18s ease}.story-progress.hidden{opacity:0}.story-dot{height:6px;border-radius:999px;background:#9d6f6c3d;transition:transform .22s ease,background-color .22s ease}.story-dot.active{background:linear-gradient(135deg,#ff5b74,#ff8a63);transform:scaleX(1.02)}.screen-card{margin:auto;width:100%;border-radius:26px;padding:18px 16px;display:flex;flex-direction:column;gap:14px}.title{margin:0;font-family:Fraunces,Times New Roman,serif;font-size:clamp(1.85rem,7.1vw,2.75rem);line-height:1.08;letter-spacing:.01em}.subtitle{margin:0;color:var(--ink-soft);line-height:1.58;font-size:.95rem}.count-grid{margin-top:6px;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}.count-box{border-radius:16px;padding:13px;text-align:center;border:1px solid rgba(255,255,255,.88);background:linear-gradient(150deg,#ffffffeb,#fff1e9db)}.count-box strong{display:block;font-size:1.4rem;color:#5b3340}.count-box span{font-size:.65rem;text-transform:uppercase;letter-spacing:.16em;color:#9d6f6c}.envelope-btn{border:0;background:transparent;width:100%;padding:8px;position:relative}.envelope{width:min(340px,100%);margin:4px auto 0;aspect-ratio:1.38;position:relative;transform-origin:center;filter:drop-shadow(0 22px 28px rgba(158,70,77,.26))}.envelope-back,.envelope-front,.envelope-flap,.envelope-letter{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:24px}.envelope-back{z-index:0;background:linear-gradient(145deg,#ffd1ca,#ffc5d8 65%,#ffd8e6);border:1px solid rgba(255,255,255,.9)}.envelope-letter{z-index:1;inset:16% 8% auto;height:74%;border-radius:16px;border:1px solid rgba(226,171,188,.48);background:repeating-linear-gradient(180deg,rgba(232,173,194,.18),rgba(232,173,194,.18) 1px,transparent 1px,transparent 24px),linear-gradient(180deg,#fff,#fff7fb);display:grid;place-items:start center;padding-top:12px;font-size:.72rem;color:#b45f79;font-weight:800;letter-spacing:.04em;text-transform:uppercase;transform:translateY(12px) scale(.98)}.envelope-front{z-index:2;inset:auto 0 0;height:72%;border-radius:24px 24px 15px 15px;border:1px solid rgba(255,255,255,.9);background:linear-gradient(145deg,#fff7f8 18%,#ffd5de),linear-gradient(225deg,#ffe6eb 0,#ffe6eb 52%,transparent 53%),linear-gradient(135deg,#ffe6eb 0,#ffe6eb 52%,transparent 53%)}.envelope-flap{z-index:3;clip-path:polygon(0 0,100% 0,50% 90%);transform-origin:top;background:linear-gradient(180deg,#ff8f8c,#ff5e87)}.seal-heart{position:absolute;z-index:4;left:50%;top:58%;width:42px;height:42px;border-radius:999px;transform:translate(-50%,-50%);display:grid;place-items:center;color:#fff;background:linear-gradient(145deg,var(--accent-a),var(--accent-b));box-shadow:0 10px 18px #f7526557;animation:heartbeat 1.25s ease-in-out infinite}@keyframes heartbeat{0%,to{transform:translate(-50%,-50%) scale(1)}25%{transform:translate(-50%,-50%) scale(1.12)}50%{transform:translate(-50%,-50%) scale(.96)}75%{transform:translate(-50%,-50%) scale(1.08)}}.envelope.opening{animation:envelopeLift 1.5s cubic-bezier(.2,.86,.24,1) forwards}.envelope.opening .envelope-flap{animation:flapOpen 1.25s cubic-bezier(.18,.84,.3,1) forwards}.envelope.opening .envelope-letter{animation:letterRise 1.25s cubic-bezier(.18,.84,.3,1) forwards}.envelope.opening .seal-heart{animation:sealFade .56s ease forwards}@keyframes flapOpen{to{transform:rotateX(-168deg)}}@keyframes letterRise{0%{transform:translateY(12px) scale(.98)}60%{transform:translateY(-26px) scale(1.03)}to{transform:translateY(-66px) scale(1.05)}}@keyframes envelopeLift{0%{transform:translateY(0) scale(1) rotate(0)}50%{transform:translateY(-8px) scale(1.03) rotate(-1deg)}to{transform:translateY(-4px) scale(1.02) rotate(0)}}@keyframes sealFade{to{opacity:0;transform:translate(-50%,-50%) scale(.7)}}.letter-box{min-height:230px;border-radius:20px;border:1px solid rgba(231,179,174,.5);background:linear-gradient(180deg,#fffffffa,#fff5edf2);box-shadow:0 22px 36px #6c353f29;padding:18px 16px;position:relative}.letter-box:before{content:"";position:absolute;left:0;right:0;top:54px;border-top:1px dashed rgba(223,149,154,.5)}.letter-box.from-envelope{animation:letterScreenReveal .62s cubic-bezier(.2,.84,.25,1) both}@keyframes letterScreenReveal{0%{opacity:0;transform:translateY(68px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}.letter-text{margin:0;white-space:pre-wrap;line-height:1.9;color:#5a3940;font-size:.97rem}.cursor{width:2px;height:1.05em;margin-left:2px;display:inline-block;vertical-align:text-bottom;background:#f05f76;animation:blink 1s steps(1) infinite}@keyframes blink{50%{opacity:0}}.btn-primary,.btn-secondary{border:0;border-radius:999px;padding:12px 16px;font-weight:800}.btn-primary{align-self:flex-end;background:linear-gradient(135deg,var(--accent-a),var(--accent-b));color:#fff}.btn-primary:disabled{opacity:.42}.btn-secondary{background:#ffeae5;color:#a34d58;border:1px solid #ffd6ce}.timeline-list{list-style:none;margin:0;padding:0;display:grid;gap:10px}.timeline-item{display:grid;grid-template-columns:30px 1fr;gap:10px;border-radius:16px;padding:12px;border:1px solid rgba(255,255,255,.82);background:#ffffffa8}.timeline-icon{width:30px;height:30px;border-radius:999px;display:grid;place-items:center;background:#ffe7d9}.timeline-date{margin:0;font-size:.69rem;text-transform:uppercase;letter-spacing:.14em;color:#976968}.timeline-title{margin:4px 0;font-weight:800}.timeline-copy{margin:0;color:#7f5b63;font-size:.92rem;line-height:1.5}.photo-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:3px;background:#ffffffb3;border-radius:15px;padding:3px;overflow:hidden}.photo-card{border:0;padding:0;overflow:hidden;position:relative;background:#fff}.photo-card:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:inset 0 0 0 1px #fff9;pointer-events:none}.photo-card img{width:100%;aspect-ratio:1 / 1;object-fit:cover;display:block;transition:transform .26s ease}.photo-card:hover img{transform:scale(1.05)}.modal-shell{position:fixed;top:0;right:0;bottom:0;left:0;z-index:25;padding:18px;display:grid;place-items:center;background:#120a0c80;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.modal-card{width:min(100%,400px);border-radius:22px;background:#fff;overflow:hidden;position:relative;box-shadow:0 28px 54px #4610264d}.modal-card.valentine{padding:24px 16px 18px;overflow:visible;background:radial-gradient(circle at 14% 12%,rgba(255,223,233,.7),transparent 38%),radial-gradient(circle at 84% 14%,rgba(255,229,202,.72),transparent 34%),linear-gradient(170deg,#fffdf8,#fff2f7);border:1px solid rgba(255,255,255,.9)}.valentine-deco{position:absolute;width:34px;height:34px;border-radius:999px;display:grid;place-items:center;font-size:.95rem;background:#ffffffbf;box-shadow:0 8px 16px #a74e622e}.deco-left{left:-10px;top:-10px}.deco-right{right:-10px;top:-10px}.modal-image{width:100%;height:280px;object-fit:cover;display:block}.modal-body{padding:12px 12px 14px}.modal-caption{margin:0;font-weight:800;color:#5c2f39}.modal-note{margin:8px 0 0;color:#7c5c66;line-height:1.55}.close-btn{position:absolute;top:10px;right:10px;width:30px;height:30px;border:0;border-radius:999px;background:#ffffffe6;color:#7e3a4f}.modal-eyebrow{margin:0;text-transform:uppercase;letter-spacing:.16em;font-size:.7rem;color:#9a6e69}.modal-title{margin:8px 0 4px;font-size:1.72rem;line-height:1.1;font-family:Fraunces,serif}.modal-copy{margin:0;color:#7f5f67;line-height:1.6}.modal-actions{margin-top:14px;display:grid;grid-template-columns:1fr;gap:10px}.valentine-yes{background:linear-gradient(135deg,#ff5f79,#ff8a63);box-shadow:0 10px 20px #ec5b734d}.valentine-always{background:linear-gradient(135deg,#fff4ea,#ffe2f0);border-color:#ffd5dd;color:#954d5a}.answer-copy{margin:14px 0 0;font-weight:800;color:#803f4b;background:#ffffffb8;border:1px solid rgba(255,255,255,.9);border-radius:12px;padding:8px 10px}.ambient-bg{position:fixed;top:0;right:0;bottom:0;left:0;z-index:-1;pointer-events:none;overflow:hidden}.ambient-item{position:absolute;opacity:.22;animation:floatAmbient linear infinite,iconPulse 4.2s ease-in-out infinite}.ambient-item.blossom{opacity:.32}.ambient-item.berry{opacity:.3}@keyframes floatAmbient{0%{transform:translateZ(0) scale(.9) rotate(0);opacity:.16}35%{transform:translate3d(10px,-14px,0) scale(1.02) rotate(6deg);opacity:.3}70%{transform:translate3d(-8px,-32px,0) scale(1.1) rotate(-6deg);opacity:.36}to{transform:translate3d(4px,-46px,0) scale(.95) rotate(4deg);opacity:.14}}@keyframes iconPulse{0%,to{filter:saturate(1)}50%{filter:saturate(1.2)}}.top-fall-layer{position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:1;overflow:hidden}.fall-icon{position:absolute;top:-10%;opacity:0;animation:iconFall linear infinite;will-change:transform,opacity}.fall-icon.blossom{opacity:.5}.fall-icon.berry{opacity:.42}@keyframes iconFall{0%{transform:translate3d(0,-8vh,0) rotate(0);opacity:0}10%{opacity:.5}70%{transform:translate3d(16px,68vh,0) rotate(12deg);opacity:.4}to{transform:translate3d(-10px,112vh,0) rotate(24deg);opacity:0}}.heart-rain{position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;overflow:hidden;z-index:40}.rain-item{position:absolute;top:-12%;color:#f55865d6;animation:rainFall linear forwards}@keyframes rainFall{to{transform:translateY(120vh) translate(11px) rotate(16deg);opacity:0}}@media (min-width: 640px){.app-shell{padding:20px 20px 30px}.screen-card{padding:24px 22px}.count-grid,.photo-grid{grid-template-columns:repeat(4,minmax(0,1fr))}.modal-actions{grid-template-columns:repeat(2,1fr)}}
